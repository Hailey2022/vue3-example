<!DOCTYPE html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/vue@3.2.45/dist/vue.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-echarts@6.5.4/dist/index.umd.js"></script>
</head>

<style>
  [v-cloak] {
    display: none;
  }
</style>

<body>
  <div id="app" v-cloak>
    {{data}}
    <div>
      <v-chart style="height: 300px;width: 60%;" :option="option" autoresize></v-chart>
    </div>
  </div>

</body>

<script>
  const { createApp, ref, computed, onMounted } = Vue;

  const App = {
    setup() {
      const data = ref([])
      const option = computed(() => {
        return {
          xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
          },
          yAxis: {
            type: 'value'
          },
          series: [
            {
              data: data.value,
              type: 'line'
            }
          ]
        }
      })
      onMounted(() => {
        setInterval(() => {
          data.value = [Math.random() * 1000, Math.random() * 1000, Math.random() * 1000, Math.random() * 1000, Math.random() * 1000, Math.random() * 1000, Math.random() * 1000]
        }, 800)
      })
      return {
        option, data
      }
    }
  }

  const app = createApp(App);
  app.component('v-chart', VueECharts)
  app.mount('#app');
</script>
